/*!
 * fullpage.js Parallax Effect Extension 0.1.3 for fullPage.js v3
 * https://github.com/alvarotrigo/fullPage.js
 *
 * @license This code has been bought from www.alvarotrigo.com/fullPage/extensions/ and it is not free to use or distribute.
 * Copyright (C) 2016 alvarotrigo.com - A project by Alvaro Trigo
 */
window.fp_parallaxExtension=function(){function e(e){return{cover:{offsetNormal:e?0:N},reveal:{offsetNormal:e?-N:0}}}function t(e){return{cover:{offsetNormal:e?0:T},reveal:{offsetNormal:e?-T:0}}}function n(e){return e*I/100}function o(e){return e*z/100}function i(){return window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth}function a(){B&&A(_($).length?_($)[0]:_(U)[0],0)}function r(){var t=_($).length?_($)[0]:_(U)[0],n=C===ee,o=n?Le(t):we(t),i=n?we(t):Le(t);o.forEach((function(t){A(t,e(n)[C].offsetNormal,"silent")})),i.forEach((function(e){A(e,0,"silent")})),xe&&_(U).forEach((function(e){_(J,e).length&&l(_(K,e).length?_(K,e)[0]:_(J,e)[0])}))}function l(e){var n=C===ee,o=n?Le(e):we(e),i=n?we(e):Le(e);o.forEach((function(e){M(e,t(n)[C].offsetNormal,"silent")})),i.forEach((function(e){M(e,0,"silent")}))}function s(e){var t=e.detail;z=i(),t&&!G.scrollBar?(h(),E()):b()}function f(e){q.destroy(),pe=!1}function d(){var e=G.verticalCentered?".fp-tableCell":".fp-scrollable";_(e).forEach((function(e){var t=_(Z,e)[0];_(".fp-scrollable",e).length&&null!=t&&W.prependTo(e.parentNode,t)}))}function c(e){e.detail?b():me=!0}function p(e){e.detail,_(Z).forEach((function(e){e.setAttribute("data-final-x",0),e.setAttribute("data-final-y",0)})),O=_(U),r()}function u(e){var t=e.detail;ge=!0,A(t,0,"silent"),fe=!0}function v(e){var t=e.detail;q.afterSlideLoads(_(J,t)[0]),ge=!1}function m(e){var t=e.detail;ue=!0,l("left"===t.xMovement?_(J,_($)[0])[0]:W.last(_(J,_($)[0]))),setTimeout((function(){q.applyHorizontal(t)}))}function g(e){var t=e.detail;ve=!0,r(),setTimeout((function(){q.apply(t)}))}function x(){pe&&(G.scrollBar||!G.autoScrolling||X.usingExtension("dragAndMove"))&&function(){var t=X.usingExtension("dragAndMove")?Math.abs(window.fp_dragAndMoveExtension.getCurrentScroll()):W.getScrollTop(),n=le>t,o=W.index(_($)[0],U),i=I+t;le=t;for(var a=0;a<O.length;++a){var r=O[a],l=I+r.offsetTop;!n&&r.offsetTop<=i?o=a:n&&l>=t&&r.offsetTop<t&&O.length>a+1&&(o=a+1)}var s=(I-(O[o].offsetTop-t))*N/I;C!==ee&&(o-=1);var f=C!==ee?s:-N+s;o>-1&&A(_(U)[o],f),o-1>=0&&A(O[o-1],e(!1)[C].offsetNormal),void 0!==O[o+1]&&A(O[o+1],e(!0)[C].offsetNormal)}()}function h(){var e=".fp-bg{transition: transform "+G.scrollingSpeed+"ms "+G.easingcss3+";}.fp-slide, .fp-section{transition: background-position "+G.scrollingSpeed+"ms "+G.easingcss3+";}";G.autoScrolling&&!G.scrollBar&&R(oe,e)}function E(){var e=".fp-bg-animate{ transition: all "+G.scrollingSpeed+"ms "+G.easingcss3+"}";R(ae,e)}function b(){W.remove(_(ie))}function S(){clearTimeout(k),k=setTimeout(y,350)}function y(){I=W.getWindowHeight(),z=i(),N=n(G.parallaxOptions.percentage),T=o(G.parallaxOptions.percentage),a(),r(),L()}function L(){ye(_(Z),{height:I+"px"})}function w(e){return Math.round(2*e)/2}function A(e,t,n){var o=w(t),i=_(J,e);if(i.length){var a=_(K,e)[0];e=null!=a?a:i[0]}if(B)ye(e,{"background-position-y":o+"px"});else if(!Se(e,j)||Se(e,D)||void 0!==n){var r=_(Z,e)[0];if(r){var l=null!=r.getAttribute("data-final-x")?r.getAttribute("data-final-x"):0;W.toggleClass(r,Q,void 0!==n),ye(r,{transform:"translateX("+l+"px) translateY("+o+"px)"}),r.setAttribute("data-final-x",l),r.setAttribute("data-final-y",o)}}}function M(e,t,n){var o=w(t),i=B?e:_(Z,e)[0];if(i)if(!G.scrollBar&&G.autoScrolling||Ee(i,"fp-bg-animate"),B)W.toggleClass(i,Q,void 0!==n),ye(i,{"background-position-x":o+"px"});else{var a=0,r=i.getAttribute("data-final-y");"none"!==r&&null!=r&&(a=r),W.toggleClass(i,Q,void 0!==n||ge),ye(i,{transform:"translateX("+o+"px) translateY("+a+"px)"}),i.setAttribute("data-final-x",o),i.setAttribute("data-final-y",a)}}function R(e,t){if(!_("#"+e).length){var n=document.head||document.getElementsByTagName("head")[0];W.appendTo((o=e,i=t,(a=document.createElement("style")).type="text/css",a.id=o,a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i)),a),n)}var o,i,a}var C,N,T,I,z,O,B,H,F,k,q=this,W=fp_utils,_=fp_utils.$,V=fullpage_api.getFullpageData(),G=V.options,X=V.internals,Y=".fullpage-wrapper",D="active",P="."+D,U=".fp-section",$=U+P,j="fp-slide",J="."+j,K=J+P,Q="fp-notransition",Z=".fp-bg",ee="reveal",te="cover",ne="fp-parallax-stylesheet",oe="fp-parallax-transitions",ie="#"+oe,ae="fp-parallax-transition-class",re="#"+ae,le=0,se=!1,fe=!1,de=!0,ce=!0,pe=!1,ue=!1,ve=!1,me=!1,ge=!1,xe=!0===G.parallax||"slides"===G.parallax,he=W.closest,Ee=W.addClass,be=W.removeClass,Se=W.hasClass,ye=W.css,Le=W.nextAll,we=W.prevAll;F=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.requestAnimationFrame=F,q.apply=function(t){if(me&&h(),!t.localIsResizing&&!G.scrollBar&&G.autoScrolling&&(("up"===t.yMovement||t.sectionIndex)&&(!t.isMovementUp||t.leavingSection-1)||!G.continuousVertical||ve)){var n=e(se="up"===t.yMovement)[C].offsetNormal;A(_(U)[t.sectionIndex],0),A(_(U)[t.leavingSection-1],n),de=1===Math.abs(t.leavingSection-1-t.sectionIndex);for(var o=Math.min(t.leavingSection-1,t.sectionIndex)+1;o<Math.max(t.leavingSection-1,t.sectionIndex);o++)A(_(U)[o],0,"silent")}},q.applyHorizontal=function(e){if(xe&&(!e.localIsResizing||ge)&&"none"!=e.xMovement)if((H=void 0!==e.direction&&e.direction!==e.xMovement)&&G.continuousHorizontal&&!ue)H=!1;else{var n=t(fe=H?"left"===e.direction:"left"===e.xMovement)[C].offsetNormal;if(M(_(J,e.section)[e.slideIndex],0),M(_(J,e.section)[e.prevSlideIndex],n),!(ce=1===Math.abs(e.slideIndex-e.prevSlideIndex))&&!ge)for(var o=Math.min(e.slideIndex,e.prevSlideIndex)+1;o<Math.max(e.slideIndex,e.prevSlideIndex);o++)M(_(J,e.section)[o],0,"silent")}},q.init=function(){var e;I=W.getWindowHeight(),z=i(),C=G.parallaxOptions.type,N=n(G.parallaxOptions.percentage),T=o(G.parallaxOptions.percentage),O=_(G.sectionSelector),B="background"===G.parallaxOptions.property,L(),(e=_(Y)[0]).addEventListener("setAutoScrolling",s),e.addEventListener("destroy",f),e.addEventListener("onScroll",x),e.addEventListener("afterResponsive",p),e.addEventListener("onGrab",c),e.addEventListener("onContinuousVertical",g),e.addEventListener("onResize",S),e.addEventListener("afterRender",d),e.addEventListener("afterRebuild",d),xe&&(e.addEventListener("onContinuosHorizontal",m),e.addEventListener("onResetSliders",u),e.addEventListener("onEndResetSliders",v)),B||(R(ne,".fp-bg{top:0;bottom:0;width: 100%;position:absolute;z-index: -1;}.fp-section, .fp-slide, .fp-section.fp-table, .fp-slide.fp-table, .fp-section .fp-tableCell, .fp-slide .fp-tableCell {position:relative;overflow: hidden;}"),h()),E(),a(),r(),pe=!0},q.destroy=function(){b(),W.remove(_(re)),N=n(0),T=o(0),r(),W.css(_(Z),{height:""}),clearTimeout(k);var e=_(Y)[0];e.removeEventListener("setAutoScrolling",s),e.removeEventListener("destroy",f),e.removeEventListener("onScroll",x),e.removeEventListener("afterResponsive",p),e.removeEventListener("onGrab",c),e.removeEventListener("onContinuousVertical",g),e.removeEventListener("onResize",S),e.removeEventListener("afterRender",d),e.removeEventListener("afterRebuild",d),xe&&(e.removeEventListener("onContinuosHorizontal",m),e.removeEventListener("onResetSliders",u),e.removeEventListener("onEndResetSliders",v))},q.setOption=function(e,t){"offset"===e?(G.parallaxOptions.percentage=t,N=n(t),T=o(t)):"type"===e&&(G.parallaxOptions.type=t,C=t),r()},q.applyProperties=A,q.afterSlideLoads=function(e){var n,o=void 0!==e?e:_(K,_($)[0])[0],i=he(o,U);if((B?(n=i,_(J,n).length?_(J,n):[n]):_(Z,i)).forEach((function(e){be(e,"fp-bg-animate")})),(ue||H)&&(l(o),ue=!1),!ce){var a=t(fe)[C].offsetNormal,r=o,s=fe?Le(r):we(r);(C===ee&&fe||C===te&&!fe||ge)&&s.forEach((function(e){M(e,a,"silent")}))}},q.afterLoad=function(){if((!G.scrollBar||!G.autoScrolling||X.usingExtension("dragAndMove"))&&((ve||H)&&(r(),ve=!1),!de)){var t=e(se)[C].offsetNormal,n=se?Le(_($)[0]):we(_($)[0]);(C===ee&&se||C===te&&!se)&&n.forEach((function(e){A(e,t,"silent")}))}},q.c=X.c;var Ae=q["common".charAt(0)];return"complete"===document.readyState&&Ae("parallax"),window.addEventListener("load",(function(){Ae("parallax")})),q};